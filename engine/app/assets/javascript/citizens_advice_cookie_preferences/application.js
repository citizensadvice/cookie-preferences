(()=>{function u(){window.gaGlobal||function(e,c,i,o,r){e[o]=e[o]||[],e[o].push({"gtm.start":new Date().getTime(),event:"gtm.js"});let n=c.createElement(i),g=o!=="dataLayer"?`&l=${o}`:"";var C=document.getElementsByName("csp-nonce")[0].getAttribute("content");n.async=!0,n.src=`https://www.googletagmanager.com/gtm.js?id=${r}${g}`,n.setAttribute("nonce",C),document.head.appendChild(n)}(window,document,"script","dataLayer","GTM-T5MB575")}function l(){window.dataLayer.push({event:"acceptAllCookies"})}function m(){window.dataLayer.push({analyticsCookiesAccepted:"True"})}var t={cookieBanner:".js-cookie-banner",acceptBtn:"#js-cookie-banner__button-accept",rejectBtn:"#js-cookie-banner__button-reject",cookieSelectionContainer:".js-cookie-banner__selection-container",confirmationMessageContainer:".js-cookie-banner__confirmation-message",confirmationMessageAccept:".js-cookie-banner__confirmation-accept",confirmationMessageReject:".js-cookie-banner__confirmation-reject",hideBannerBtn:"#js-cookie-banner__button-hide"},k={essential:!0,analytics:!1,video_players:!1},y=document.location.hostname==="localhost"?"localhost":"citizensadvice.org.uk";function a(e,c,i){let o=new Date;o.setTime(o.getTime()+i*24*60*60*1e3);let r="expires="+o.toUTCString();document.cookie=e+"="+c+";"+r+`;path=/;domain=${y}`}function _(e){let c=`${e}=`,i=document.cookie.split(";");for(let o=0,r=i.length;o<r;o++){let n=i[o];for(;n.charAt(0)===" ";)n=n.substring(1,n.length);if(n.indexOf(c)===0)return decodeURIComponent(n.substring(c.length))}return null}var h=()=>{a("cookie_preference",encodeURIComponent(JSON.stringify({essential:!0,analytics:!0,video_players:!0})),365);var e=document.getElementsByClassName("js-cookie-banner")[0].getAttribute("data-cookie-current-version");a("cookie_preference_set",e,365),p(),document.querySelector(t.confirmationMessageAccept).hidden=!1},B=()=>{a("cookie_preference",encodeURIComponent(JSON.stringify(k)),365);var e=document.getElementsByClassName("js-cookie-banner")[0].getAttribute("data-cookie-current-version");a("cookie_preference_set",e,365),p(),document.querySelector(t.confirmationMessageReject).hidden=!1};function f(){let e=document.querySelector(t.cookieBanner);e&&(e.hidden=!0)}function p(){let e=document.querySelector(t.cookieBanner),c=document.querySelector(t.confirmationMessageContainer);document.querySelector(t.cookieSelectionContainer).hidden=!0,c.hidden=!1,c.focus(),e.classList.add("cookie-banner--no-decoration")}function b(){if(_("cookie_preference_set"))f();else{let e=document.querySelector(t.cookieBanner);e.hidden=!1,e.removeAttribute("aria-hidden"),a("cookie_preference",encodeURIComponent(JSON.stringify(k)),365)}}function v(){document.querySelector(t.acceptBtn).addEventListener("click",()=>{h(),u(),l(),m()}),document.querySelector(t.rejectBtn).addEventListener("click",()=>{B()}),document.querySelector(t.hideBannerBtn).addEventListener("click",()=>{f()})}function s(){document.querySelector(t.cookieBanner)&&(b(),v())}function d(){let e=document.getElementById("js-enabled-cookie-form");e&&(e.hidden=!1,e.removeAttribute("aria-hidden"))}s();d();})();
//# sourceMappingURL=application.js.map
