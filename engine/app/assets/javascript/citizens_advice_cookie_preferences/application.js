(()=>{function u(){window.dataLayer&&(window.dataLayer.push({event:"acceptAllCookies"}),console.log("analytics-cookies-accepted"))}var o={cookieBanner:".js-cookie-banner",acceptBtn:"#js-cookie-banner__button-accept",rejectBtn:"#js-cookie-banner__button-reject",cookieSelectionContainer:".js-cookie-banner__selection-container",confirmationMessageContainer:".js-cookie-banner__confirmation-message",confirmationMessageAccept:".js-cookie-banner__confirmation-accept",confirmationMessageReject:".js-cookie-banner__confirmation-reject",hideBannerBtn:"#js-cookie-banner__button-hide"},l={essential:!0,analytics:!1,video_players:!1},m=document.location.hostname==="localhost"?"localhost":"citizensadvice.org.uk";function c(e,n,r){let t=new Date;t.setTime(t.getTime()+r*24*60*60*1e3);let a="expires="+t.toUTCString();document.cookie=e+"="+n+";"+a+`;path=/;domain=${m}`}function p(e){let n=`${e}=`,r=document.cookie.split(";");for(let t=0,a=r.length;t<a;t++){let i=r[t];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(n)===0)return decodeURIComponent(i.substring(n.length))}return null}var _=()=>{c("cookie_preference",encodeURIComponent(JSON.stringify({essential:!0,analytics:!0,video_players:!0})),365);var e=document.getElementsByClassName("js-cookie-banner")[0].getAttribute("data-cookie-current-version");c("cookie_preference_set",e,365),f(),document.querySelector(o.confirmationMessageAccept).hidden=!1},C=()=>{c("cookie_preference",encodeURIComponent(JSON.stringify(l)),365);var e=document.getElementsByClassName("js-cookie-banner")[0].getAttribute("data-cookie-current-version");c("cookie_preference_set",e,365),f(),document.querySelector(o.confirmationMessageReject).hidden=!1};function k(){let e=document.querySelector(o.cookieBanner);e&&(e.hidden=!0)}function f(){let e=document.querySelector(o.cookieBanner),n=document.querySelector(o.confirmationMessageContainer);document.querySelector(o.cookieSelectionContainer).hidden=!0,n.hidden=!1,n.focus(),e.classList.add("cookie-banner--no-decoration")}function g(){if(p("cookie_preference_set"))k();else{let e=document.querySelector(o.cookieBanner);e.hidden=!1,e.removeAttribute("aria-hidden"),c("cookie_preference",encodeURIComponent(JSON.stringify(l)),365)}}function B(){document.querySelector(o.acceptBtn).addEventListener("click",()=>{_(),u()}),document.querySelector(o.rejectBtn).addEventListener("click",()=>{C()}),document.querySelector(o.hideBannerBtn).addEventListener("click",()=>{k()})}function s(){document.querySelector(o.cookieBanner)&&(g(),B())}function d(){let e=document.getElementById("js-enabled-cookie-form");e&&(e.hidden=!1,e.removeAttribute("aria-hidden"))}s();d();})();
//# sourceMappingURL=application.js.map
